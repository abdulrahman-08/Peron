<div class="login-container position-relative d-flex flex-column min-vh-100" [dir]="currentLang === 'ar' ? 'rtl' : 'ltr'">
  <header class="text-center mt-2 p-2" style="z-index: 3;">
    <div class="d-flex align-items-center justify-content-center">
      <img src="./assets/imgs/logo.png" alt="Peron Logo" class="me-3" style="width: 90px; height: 90px;" />
      <span class="brand-name">{{ 'FOOTER.BRAND_NAME' | translate }}</span>
    </div>
  </header>

  <div class="color position-absolute top-0 end-0 bottom-0 start-0"></div>
  <div *ngIf="!changePasswordSucss" class="col-10 col-sm-8 col-md-5 mt-5 col-lg-4 mx-auto mb-4" style="z-index: 3;">
    <div class="login-form card p-4 shadow">
      <a class="text-decoration-none carousel fw-normal" style="color: #292828;" routerLink="/login">
        <i [ngClass]="currentLang === 'en'?'fa-arrow-left':'fa-arrow-right'" class="fa-solid mt-2 fs-6  p-0"></i> {{ 'NEW_PASSWORD.BACK' | translate }}
      </a>
      <div class="card-body p-5">
        <h2 class="text-center mb-4 fw-bold">{{ 'NEW_PASSWORD.TITLE' | translate }}</h2>
        <form [formGroup]="passwordForm" (ngSubmit)="setlogin()">
          <div>
            <div class="input-group">
              <input type="password" class="form-control focus-ring focus-ring-light" placeholder=" "
                     formControlName="password" #password />
              <label>{{ 'NEW_PASSWORD.PASSWORD_LABEL' | translate }}</label>
            </div>
            <div>
              <div class="input-group">
                <input type="password" class="form-control focus-ring focus-ring-light" placeholder=" "
                       formControlName="confirmPassword" #confirmPassword />
                <label>{{ 'NEW_PASSWORD.CONFIRM_PASSWORD_LABEL' | translate }}</label>
              </div>
              <div class="alert text-danger m-0 p-0" *ngIf="passwordForm.errors?.['passwordMismatch'] && confirmPassword.value.length > 0">
                <p>{{ 'NEW_PASSWORD.ERROR.PASSWORDS_MISMATCH' | translate }}</p>
              </div>
            </div>
          </div>
          <button type="submit" style="background-color: #0F7757;" class="btn p-2 text-white w-100">
            <i *ngIf="spincheak" class="fas me-1 fa-spin fa-spinner"></i> {{ 'NEW_PASSWORD.SUBMIT_BUTTON' | translate }}
          </button>
          <p *ngIf="mserror" class="alert mt-2 p-2 text-danger">{{ mserror }}</p>
        </form>
      </div>
    </div>
  </div>
  <div *ngIf="changePasswordSucss" class="col-10 col-sm-8 col-md-5 mt-5 col-lg-4 mx-auto mb-4" style="z-index: 3;">
    <div class="login-form card p-4 shadow">
      <div class="card-body p-5">
        <div class="success-circle">
          <i class="fa fa-check"></i>
        </div>
        <h4 class="text-center mb-4 mt-3 fw-bold">{{ 'NEW_PASSWORD.SUCCESS_TITLE' | translate }}</h4>
        <h6 class="text-center mb-4" style="color: #818181;">{{ 'NEW_PASSWORD.SUCCESS_DESCRIPTION' | translate }}</h6>
        <button type="submit" style="background-color: #0F7757;" class="btn p-2 text-white w-100" routerLink="/auth/login">
          {{ 'NEW_PASSWORD.BACK_TO_LOGIN' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>