"use strict";(self.webpackChunkPeron=self.webpackChunkPeron||[]).push([[233],{1233:(p,m,s)=>{s.r(m),s.d(m,{WichlistComponent:()=>F});var c=s(177),l=s(7735),d=s(9909),_=s(9417),t=s(6996),u=s(8756),o=s(1325);function h(n,a){1&n&&(t.j41(0,"section",2)(1,"div",3)(2,"div",4),t.nrm(3,"img",5),t.k0s(),t.j41(4,"h2",6),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"p",7),t.EFF(8),t.nI1(9,"translate"),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",9),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()),2&n&&(t.R7$(5),t.JRh(t.bMT(6,5,"FAVORITES.NO_FAVORITES_TITLE")),t.R7$(3),t.SpI(" ",t.bMT(9,7,"FAVORITES.NO_FAVORITES_DESCRIPTION")," "),t.R7$(3),t.JRh(t.bMT(12,9,"FAVORITES.EXPLORE_NOW")),t.R7$(2),t.SpI(" ",t.bMT(14,11,"FAVORITES.LATER")," "),t.R7$(3),t.SpI(" ",t.bMT(17,13,"FAVORITES.BACK_TO_HOME")," "))}const f=function(n,a){return{"fa-solid rating-color":n,"fa-regular text-secondary":a}};function E(n,a){if(1&n&&(t.qex(0),t.nrm(1,"i",47),t.bVm()),2&n){const e=a.$implicit,i=t.XpG().$implicit;t.R7$(1),t.Y8G("ngClass",t.l_i(1,f,e<=i.averageRating,e>i.averageRating))}}const v=function(n){return["/property",n]},R=function(){return[1,2,3,4,5]};function O(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24),t.nrm(4,"img",25),t.k0s(),t.j41(5,"div",26)(6,"button",27),t.bIt("click",function(r){const T=t.eBV(e).$implicit;return t.XpG(2).removeProuWichList(T.propertyId),t.Njj(r.stopPropagation())}),t.nrm(7,"i",28),t.k0s()(),t.j41(8,"div",29)(9,"a",30),t.EFF(10),t.k0s()()(),t.j41(11,"div",31)(12,"h5",32),t.EFF(13),t.k0s(),t.j41(14,"div",33),t.DNE(15,E,2,4,"ng-container",34),t.j41(16,"span",35),t.EFF(17),t.k0s()(),t.j41(18,"p",36),t.EFF(19),t.k0s(),t.j41(20,"div",37)(21,"div",38)(22,"div",39)(23,"div",40),t.nrm(24,"img",41),t.j41(25,"span",42),t.EFF(26),t.k0s()(),t.j41(27,"div",40),t.nrm(28,"i",43),t.j41(29,"span",44),t.EFF(30),t.k0s()(),t.j41(31,"div",40)(32,"span",44),t.nrm(33,"img",45),t.EFF(34),t.k0s()(),t.j41(35,"div",40)(36,"span",44),t.nrm(37,"img",46),t.EFF(38),t.k0s()()()()()()()()}if(2&n){const e=a.$implicit;t.R7$(1),t.Y8G("routerLink",t.eq3(12,v,e.propertyId)),t.R7$(3),t.Y8G("src",e.images[0],t.B4B)("alt",e.location),t.R7$(6),t.SpI(" EGP ",e.price," "),t.R7$(3),t.JRh(e.title),t.R7$(2),t.Y8G("ngForOf",t.lJ4(14,R)),t.R7$(2),t.JRh(e.averageRating),t.R7$(2),t.JRh(e.location),t.R7$(7),t.SpI(" ",e.bedrooms," Rooms"),t.R7$(4),t.SpI(" ",e.bathrooms," Bathrooms"),t.R7$(4),t.SpI(" ",e.bedrooms," Bed "),t.R7$(4),t.SpI(" ",e.area,"m\xb2 Area ")}}function I(n,a){1&n&&(t.j41(0,"div",48)(1,"div",4),t.nrm(2,"i",49),t.k0s(),t.j41(3,"h2",50),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"p",7),t.EFF(7),t.nI1(8,"translate"),t.j41(9,"span",8),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"button",51),t.EFF(15),t.nI1(16,"translate"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,5,"FAVORITES.NO_FAVORITES_TITLE")),t.R7$(3),t.SpI(" ",t.bMT(8,7,"FAVORITES.NO_FAVORITES_DESCRIPTION")," "),t.R7$(3),t.JRh(t.bMT(11,9,"FAVORITES.EXPLORE_NOW")),t.R7$(2),t.SpI(" ",t.bMT(13,11,"FAVORITES.LATER")," "),t.R7$(3),t.SpI(" ",t.bMT(16,13,"FAVORITES.BACK_TO_HOME")," "))}function C(n,a){if(1&n){const e=t.RV6();t.j41(0,"section",10)(1,"section",11)(2,"div",12)(3,"div")(4,"div",13)(5,"div",14)(6,"input",15),t.bIt("ngModelChange",function(r){t.eBV(e);const g=t.XpG();return t.Njj(g.searchvalue=r)})("input",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.filterWishlist())}),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",16),t.nrm(9,"i",17),t.k0s()()(),t.j41(10,"div",18),t.DNE(11,O,39,15,"div",19),t.k0s(),t.DNE(12,I,17,15,"div",20),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(6),t.Y8G("placeholder",t.bMT(7,4,"PROPERTY_SEARCH.SEARCH_PLACEHOLDER"))("ngModel",e.searchvalue),t.R7$(5),t.Y8G("ngForOf",e.filteredCartItems),t.R7$(1),t.Y8G("ngIf",0===e.filteredCartItems.length)}}let F=(()=>{class n{constructor(e,i,r){this.translate=e,this.languageService=i,this._WishListService=r,this.cartitem=[],this.filteredCartItems=[],this.searchvalue="",this.currentLang=""}ngOnInit(){this.languageService.currentLang$.subscribe(e=>{this.currentLang=e}),this.languageService.loadSavedLang(),this.loadTranslations(),this.getWishList()}getWishList(){this._WishListService.getUserCart().subscribe({next:e=>{this._WishListService.wishCount.next(e.length),this.cartitem=e,this.filteredCartItems=[...this.cartitem]}})}removeProuWichList(e){this._WishListService.removeitem(e).subscribe({next:i=>{this.cartitem=i.favorites,this.filteredCartItems=[...this.cartitem],this._WishListService.wishCount.next(i.favorites.length)}})}filterWishlist(){this.filteredCartItems=this.searchvalue?this.cartitem.filter(e=>e.title.toLowerCase().includes(this.searchvalue.toLowerCase())||e.location.toLowerCase().includes(this.searchvalue.toLowerCase())):[...this.cartitem]}loadTranslations(){this.translate.get(["FAVORITES.NO_FAVORITES_TITLE","FAVORITES.NO_FAVORITES_DESCRIPTION","FAVORITES.EXPLORE_NOW","FAVORITES.LATER","FAVORITES.BACK_TO_HOME","PROPERTY_SEARCH.SEARCH_PLACEHOLDER"]).subscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(l.c$),t.rXU(u.g),t.rXU(o.z))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-wichlist"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["class","no-favorites-section d-flex align-items-center justify-content-center","style","margin-top: 150px;",4,"ngIf"],["style","margin-top: 150px;",4,"ngIf"],[1,"no-favorites-section","d-flex","align-items-center","justify-content-center",2,"margin-top","150px"],[1,"container","text-center"],[1,"mb-4"],["src","./assets/imgs/favnoitem.png","alt","No Favorites",1,"img-fluid",2,"max-width","150px"],[1,"mb-3"],[1,"text-muted","mb-4"],[1,"text-success","fw-medium"],["routerLink","/",1,"btn","btn-success","fw-normal","px-4","py-2"],[2,"margin-top","150px"],[1,"rental-section","py-3"],[1,"container","position-relative"],[1,"search-section","mb-4","justify-content-center","d-flex","ms-2"],[1,"search-bar","d-flex","align-items-center","border","col-md-4","px-3","py-2",2,"background-color","white","border-radius","10px"],["type","text",1,"form-control","border-0","shadow-none",3,"placeholder","ngModel","ngModelChange","input"],[1,"btn","p-0"],[1,"fas","fa-search",2,"font-size","25px"],[1,"row","g-4"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],["class","text-center mt-5",4,"ngIf"],[1,"col-md-6","col-lg-4"],[1,"card","rental-card",3,"routerLink"],[1,"position-relative"],[1,"container"],[1,"card-img-top",2,"border-radius","16px","margin-top","8px",3,"src","alt"],[1,"position-absolute","m-4","top-0","end-0"],[1,"btn","text-success",3,"click"],[1,"fa-solid","fa-heart","fs-1"],[1,"position-absolute","bottom-0","m-4","end-0"],[1,"rounded-2","text-decoration-none","text-white","fw-bold","d-flex","justify-content-center","align-items-center",2,"width","110px","height","40px","background-color","var(--main-color)"],[1,"card-body"],[1,"card-title","my-2"],[1,"d-flex","align-items-center"],[4,"ngFor","ngForOf"],[1,"ms-2"],[1,"text-muted"],[1,"row","g-1","align-items-center","justify-content-between"],[1,"col-md-12","col-sm-12","col-12"],[1,"row","g-0"],[1,"col-md-6","col-sm-6","col-6"],["src","./assets/imgs/Icon-room.png","alt",""],[1,"fw-normal","fs-6",2,"color","#BFBFBF"],[1,"ms-2","fa-solid","fa-bath","fa-flip-horizontal",2,"color","#BFBFBF"],[1,"fw-normal",2,"color","#BFBFBF"],["src","./assets/imgs/ic-bed.png","alt",""],["src","./assets/imgs/icon_width.png","alt",""],[1,"fa-star","me-1",3,"ngClass"],[1,"text-center","mt-5"],[1,"fa-regular","fa-file-lines","fa-5x","text-muted"],[1,"fw-bold","mb-3"],["routerLink","/",1,"btn","btn-success","px-4","py-2"]],template:function(i,r){1&i&&(t.DNE(0,h,18,15,"section",0),t.DNE(1,C,13,6,"section",1)),2&i&&(t.Y8G("ngIf",r.cartitem.length<1),t.R7$(1),t.Y8G("ngIf",r.cartitem.length>=1))},dependencies:[c.MD,c.YU,c.Sq,c.bT,d.Wk,l.h,l.D9,_.YN,_.me,_.BC,_.vS],styles:[".no-favorites-section[_ngcontent-%COMP%]{min-height:80vh}.no-favorites-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;font-weight:600}.no-favorites-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;max-width:500px;margin:0 auto}.no-favorites-section[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background-color:var(--main-color);border:none;border-radius:8px;font-weight:600;font-size:1rem;padding:10px 20px;transition:background-color .3s ease}.no-favorites-section[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{background-color:#157a47}html[lang=ar][_ngcontent-%COMP%]   .no-favorites-section[_ngcontent-%COMP%]{direction:rtl}"]})}}return n})()},1325:(p,m,s)=>{s.d(m,{z:()=>_});var c=s(4412),l=s(6996),d=s(1626);let _=(()=>{class t{constructor(o){this._HttpClient=o,this.baseUrl="https://sakaniapi1.runasp.net/api/Favorites",this.wishCount=new c.t(0)}getUserCart(){return this._HttpClient.get(`${this.baseUrl}/user-favorites`,{withCredentials:!0})}addToWishList(o){return this._HttpClient.post(`${this.baseUrl}/add/${o}`,{withCredentials:!0})}removeitem(o){return this._HttpClient.delete(`${this.baseUrl}/remove/${o}`,{withCredentials:!0})}static{this.\u0275fac=function(h){return new(h||t)(l.KVO(d.Qq))}}static{this.\u0275prov=l.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()}}]);