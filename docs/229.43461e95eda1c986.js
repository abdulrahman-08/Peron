"use strict";(self.webpackChunkPeron=self.webpackChunkPeron||[]).push([[229],{229:(P,a,s)=>{s.r(a),s.d(a,{PaymentSuccessComponent:()=>l});var p=s(177),c=s(7735),t=s(6996),i=s(9909),h=s(4796),_=s(4203),g=s(8756);let l=(()=>{class r{constructor(e,n,o,u,m,y){this.route=e,this.router=n,this._AuthService=o,this._PropertyService=u,this._LanguageService=m,this._TranslateService=y,this.sessionId=null,this.paymentStatus="",this.currentLang="en"}ngOnInit(){this._LanguageService.currentLang$.subscribe(e=>{this.currentLang=e,this._TranslateService.use(e),this.paymentStatus="ar"===this.currentLang?"\u062a\u0645 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d!":"Payment Successful!"}),this.route.queryParams.subscribe(e=>{this.sessionId=e.session_id||null,this.sessionId?this._AuthService.refreshToken().subscribe({next:n=>{n.token?this.verifyPayment(this.sessionId):this.paymentStatus="ar"===this.currentLang?"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639. \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0623\u0648 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645.":"Error verifying payment. Please try again or contact support."},error:()=>{this.paymentStatus="ar"===this.currentLang?"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639. \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0623\u0648 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645.":"Error verifying payment. Please try again or contact support."}}):this.paymentStatus="ar"===this.currentLang?"\u0645\u0639\u0631\u0641 \u0627\u0644\u062c\u0644\u0633\u0629 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631. \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645.":"Session ID not available. Please contact support."})}verifyPayment(e){this._PropertyService.verifyPayment(e).subscribe({next:n=>{this.paymentStatus="ar"===this.currentLang?"\u062a\u0645 \u0627\u0644\u062f\u0641\u0639 \u0628\u0646\u062c\u0627\u062d! \u0625\u0639\u0644\u0627\u0646\u0643 \u0627\u0644\u0622\u0646 \u0645\u0646\u0634\u0648\u0631.":"Payment Successful! Your ad is now published."},error:()=>{this.paymentStatus="ar"===this.currentLang?"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639. \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0623\u0648 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u062f\u0639\u0645.":"Error verifying payment. Please try again or contact support."}})}goToHome(){this.router.navigate(["/home"])}static{this.\u0275fac=function(n){return new(n||r)(t.rXU(i.nX),t.rXU(i.Ix),t.rXU(h.u),t.rXU(_.X),t.rXU(g.g),t.rXU(c.c$))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-payment-success"]],standalone:!0,features:[t.aNF],decls:8,vars:1,consts:[[1,"success-container",2,"margin-top","150px"],[1,"success-card"],[1,"success-icon"],[1,"home-button",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"\u2705"),t.k0s(),t.j41(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return o.goToHome()}),t.EFF(7,"Go to Home"),t.k0s()()()),2&n&&(t.R7$(5),t.JRh(o.paymentStatus))},dependencies:[p.MD,c.h],styles:[".success-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}.success-card[_ngcontent-%COMP%]{background:white;padding:30px;border-radius:8px;text-align:center;box-shadow:0 2px 10px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:50px;color:#28a745;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:24px;color:#333;margin-bottom:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:20px}.home-button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#2e7d32;color:#fff;border:none;border-radius:4px;cursor:pointer}.home-button[_ngcontent-%COMP%]:hover{background-color:#267d2b}"]})}}return r})()}}]);