"use strict";(self.webpackChunkPeron=self.webpackChunkPeron||[]).push([[321],{1321:(x,d,s)=>{s.r(d),s.d(d,{SetNewPasswordComponent:()=>w});var c=s(177),p=s(9909),r=s(9417),l=s(7735),t=s(6996),g=s(4796),u=s(8756);function m(o,i){1&o&&(t.j41(0,"div",23)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&o&&(t.R7$(2),t.JRh(t.bMT(3,1,"NEW_PASSWORD.ERROR.PASSWORDS_MISMATCH")))}function _(o,i){1&o&&t.nrm(0,"i",24)}function h(o,i){if(1&o&&(t.j41(0,"p",25),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(1),t.JRh(e.mserror)}}function f(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"a",9),t.nrm(3,"i",10),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"div",11)(7,"h2",12),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"form",13),t.bIt("ngSubmit",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.setlogin())}),t.j41(11,"div")(12,"div",14),t.nrm(13,"input",15,16),t.j41(15,"label"),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.j41(18,"div")(19,"div",14),t.nrm(20,"input",17,18),t.j41(22,"label"),t.EFF(23),t.nI1(24,"translate"),t.k0s()(),t.DNE(25,m,4,3,"div",19),t.k0s()(),t.j41(26,"button",20),t.DNE(27,_,1,0,"i",21),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.DNE(30,h,2,1,"p",22),t.k0s()()()()}if(2&o){const e=t.sdS(21),n=t.XpG();t.R7$(3),t.Y8G("ngClass","en"===n.currentLang?"fa-arrow-left":"fa-arrow-right"),t.R7$(1),t.SpI(" ",t.bMT(5,10,"NEW_PASSWORD.BACK")," "),t.R7$(4),t.JRh(t.bMT(9,12,"NEW_PASSWORD.TITLE")),t.R7$(2),t.Y8G("formGroup",n.passwordForm),t.R7$(6),t.JRh(t.bMT(17,14,"NEW_PASSWORD.PASSWORD_LABEL")),t.R7$(7),t.JRh(t.bMT(24,16,"NEW_PASSWORD.CONFIRM_PASSWORD_LABEL")),t.R7$(2),t.Y8G("ngIf",(null==n.passwordForm.errors?null:n.passwordForm.errors.passwordMismatch)&&e.value.length>0),t.R7$(2),t.Y8G("ngIf",n.spincheak),t.R7$(1),t.SpI(" ",t.bMT(29,18,"NEW_PASSWORD.SUBMIT_BUTTON")," "),t.R7$(2),t.Y8G("ngIf",n.mserror)}}function P(o,i){1&o&&(t.j41(0,"div",7)(1,"div",8)(2,"div",11)(3,"div",26),t.nrm(4,"i",27),t.k0s(),t.j41(5,"h4",28),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"h6",29),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"button",30),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()()),2&o&&(t.R7$(6),t.JRh(t.bMT(7,3,"NEW_PASSWORD.SUCCESS_TITLE")),t.R7$(3),t.JRh(t.bMT(10,5,"NEW_PASSWORD.SUCCESS_DESCRIPTION")),t.R7$(3),t.SpI(" ",t.bMT(13,7,"NEW_PASSWORD.BACK_TO_LOGIN")," "))}let w=(()=>{class o{constructor(e,n,a,b,O){this._AuthService=e,this._Router=n,this._FormBuilder=a,this.translate=b,this.languageService=O,this.currentLang="en",this.mserror="",this.spincheak=!1,this.inputErr=!1,this.emailOrPhone="",this.otp="",this.changePasswordSucss=!1,this.passwordForm=this._FormBuilder.group({password:["",[r.k0.required]],confirmPassword:["",r.k0.required]},{validators:this.passwordMatchValidator()})}ngOnInit(){this.languageService.currentLang$.subscribe(e=>{this.currentLang=e,this.translate.use(e)}),this.languageService.loadSavedLang(),this.emailOrPhone=this._AuthService.getemailOrPhone(),this.otp=this._AuthService.getOtp(),this.changePasswordSucss=!1}passwordMatchValidator(){return e=>{const n=e.get("password")?.value,a=e.get("confirmPassword")?.value;return n===a?null:{passwordMismatch:!0}}}setlogin(){if(this.passwordForm.valid){this.spincheak=!0;const e={email:this.emailOrPhone,otpCode:this.otp,newPassword:this.passwordForm.value.password,confirmPassword:this.passwordForm.value.confirmPassword};console.log(e),this._AuthService.changePassword(e).subscribe({next:n=>{this.spincheak=!1,console.log(n),this.changePasswordSucss=!0},error:n=>{this.spincheak=!1,this.mserror=n.error.message,console.log(n)}})}else this.mserror="plasee Enter Your Passwords"}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(g.u),t.rXU(p.Ix),t.rXU(r.ok),t.rXU(l.c$),t.rXU(u.g))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-set-new-password"]],standalone:!0,features:[t.aNF],decls:10,vars:6,consts:[[1,"login-container","position-relative","d-flex","flex-column","min-vh-100",3,"dir"],[1,"text-center","mt-2","p-2",2,"z-index","3"],[1,"d-flex","align-items-center","justify-content-center"],["src","./assets/imgs/logo.png","alt","Peron Logo",1,"me-3",2,"width","90px","height","90px"],[1,"brand-name"],[1,"color","position-absolute","top-0","end-0","bottom-0","start-0"],["class","col-10 col-sm-8 col-md-5 mt-5 col-lg-4 mx-auto mb-4","style","z-index: 3;",4,"ngIf"],[1,"col-10","col-sm-8","col-md-5","mt-5","col-lg-4","mx-auto","mb-4",2,"z-index","3"],[1,"login-form","card","p-4","shadow"],["routerLink","/login",1,"text-decoration-none","carousel","fw-normal",2,"color","#292828"],[1,"fa-solid","mt-2","fs-6","p-0",3,"ngClass"],[1,"card-body","p-5"],[1,"text-center","mb-4","fw-bold"],[3,"formGroup","ngSubmit"],[1,"input-group"],["type","password","placeholder"," ","formControlName","password",1,"form-control","focus-ring","focus-ring-light"],["password",""],["type","password","placeholder"," ","formControlName","confirmPassword",1,"form-control","focus-ring","focus-ring-light"],["confirmPassword",""],["class","alert text-danger m-0 p-0",4,"ngIf"],["type","submit",1,"btn","p-2","text-white","w-100",2,"background-color","#0F7757"],["class","fas me-1 fa-spin fa-spinner",4,"ngIf"],["class","alert mt-2 p-2 text-danger",4,"ngIf"],[1,"alert","text-danger","m-0","p-0"],[1,"fas","me-1","fa-spin","fa-spinner"],[1,"alert","mt-2","p-2","text-danger"],[1,"success-circle"],[1,"fa","fa-check"],[1,"text-center","mb-4","mt-3","fw-bold"],[1,"text-center","mb-4",2,"color","#818181"],["type","submit","routerLink","/auth/login",1,"btn","p-2","text-white","w-100",2,"background-color","#0F7757"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"header",1)(2,"div",2),t.nrm(3,"img",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.nrm(7,"div",5),t.DNE(8,f,31,20,"div",6),t.DNE(9,P,14,9,"div",6),t.k0s()),2&n&&(t.Y8G("dir","ar"===a.currentLang?"rtl":"ltr"),t.R7$(5),t.JRh(t.bMT(6,4,"FOOTER.BRAND_NAME")),t.R7$(3),t.Y8G("ngIf",!a.changePasswordSucss),t.R7$(1),t.Y8G("ngIf",a.changePasswordSucss))},dependencies:[c.MD,c.YU,c.bT,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,p.Wk,l.h,l.D9],styles:[".login-container[_ngcontent-%COMP%]{padding:0;background-image:url(newpassqord.10418c5a9358dfbf.png);background-size:cover;background-position:center;margin-top:0}.color[_ngcontent-%COMP%]{background-color:#000000a8;z-index:2}.icon-btn[_ngcontent-%COMP%]{width:35px;cursor:pointer}.brand-name[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Sans,sans-serif;font-weight:500}.login-form[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 10px #0000001a}.form-control[_ngcontent-%COMP%]{border-radius:5px;padding:10px;font-size:14px}.btn-success[_ngcontent-%COMP%]{background-color:var(--main-color)!important;border:none!important;border-radius:0!important}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--main-color)!important}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--main-color)!important;border-color:var(--main-color)!important}.social-icon[_ngcontent-%COMP%]{font-size:18px;color:#333}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}[dir=ltr][_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);background:white;padding:0 5px;font-size:14px;color:#999;transition:.3s;z-index:5}[dir=rtl][_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);background:white;padding:0 5px;font-size:14px;color:#999;transition:.3s;z-index:5}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;padding:10px;font-size:16px;outline:none;background:transparent}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:0;font-size:15px;font-weight:600;outline:none!important;color:#818181}.success-circle[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#0f7757;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 12px #eaeaea,0 0 0 20px #f8f8f8;margin:20px auto}.success-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main-color);font-size:20px;border-radius:50%;width:30px;text-align:center;display:flex;align-items:center;justify-content:center;height:30px;background-color:#fff}"]})}}return o})()}}]);