"use strict";(self.webpackChunkPeron=self.webpackChunkPeron||[]).push([[621],{6621:(l,f,i)=>{i.r(f),i.d(f,{NotificationsComponent:()=>g});var s=i(177),r=i(7735),t=i(6996),p=i(2318),c=i(8756);function m(e,_){if(1&e){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h5",6),t.EFF(3),t.k0s(),t.j41(4,"span",7),t.EFF(5),t.k0s()(),t.j41(6,"div",8)(7,"p",9),t.EFF(8),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){const C=t.eBV(n).$implicit,O=t.XpG();return t.Njj(O.deleteNotification(C.id))}),t.nrm(10,"i",11),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()}if(2&e){const n=_.$implicit;t.R7$(3),t.JRh(n.title),t.R7$(2),t.JRh(n.timeAgo),t.R7$(3),t.JRh(n.message),t.R7$(3),t.SpI(" ",t.bMT(12,4,"NOTIFICATIONS.DELETE")," ")}}function a(e,_){1&e&&(t.j41(0,"div",12)(1,"p",13),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"NOTIFICATIONS.NO_NOTIFICATIONS")))}let g=(()=>{class e{constructor(n,o){this._NotificationsService=n,this.languageService=o,this.notifications=[],this.currentLang=""}ngOnInit(){this.languageService.currentLang$.subscribe(n=>{this.currentLang=n}),this.languageService.loadSavedLang(),this._NotificationsService.getAllNotifications().subscribe({next:n=>{this.notifications=n},error:n=>{}})}deleteNotification(n){this._NotificationsService.deleteNotification(n).subscribe({next:o=>{this.notifications=o,this._NotificationsService.notificationsCount.next(o.length)},error:o=>{}})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(p.I),t.rXU(c.g))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-notifications"]],standalone:!0,features:[t.aNF],decls:4,vars:3,consts:[[1,"container","p-3","p-lg-5","notification-container",3,"dir"],[1,"notification-list","p-3","p-lg-5"],["class","notification-item p-2 p-md-3 border-bottom",4,"ngFor","ngForOf"],["class","text-center py-4 py-md-5",4,"ngIf"],[1,"notification-item","p-2","p-md-3","border-bottom"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"notification-title","mb-1"],[1,"notification-time","text-muted"],[1,"d-flex","justify-content-between","align-items-center","gap-3"],[1,"notification-description","text-muted","mb-0"],[1,"btn","btn-delete","d-flex","align-items-center","gap-1",3,"click"],[1,"fa-solid","fa-trash"],[1,"text-center","py-4","py-md-5"],[1,"text-muted","no-notifications"]],template:function(o,d){1&o&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,m,13,6,"div",2),t.DNE(3,a,4,3,"div",3),t.k0s()()),2&o&&(t.Y8G("dir","ar"===d.currentLang?"rtl":"ltr"),t.R7$(2),t.Y8G("ngForOf",d.notifications),t.R7$(1),t.Y8G("ngIf",0===d.notifications.length))},dependencies:[s.MD,s.Sq,s.bT,r.h,r.D9],styles:[".notification-container[_ngcontent-%COMP%]{margin-top:130px}.notification-list[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.notification-item[_ngcontent-%COMP%]{border-bottom:1px solid #eee}.notification-title[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#333}.notification-description[_ngcontent-%COMP%]{font-size:24px;color:#666}.notification-time[_ngcontent-%COMP%]{font-size:20px;color:#999}.btn-delete[_ngcontent-%COMP%]{background-color:#ffe6e6;color:#ff7262;border:none;border-radius:5px;padding:5px 12px;font-size:.85rem;transition:background-color .2s ease}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#fcc}.btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.no-notifications[_ngcontent-%COMP%]{font-size:18px}@media (max-width:768px){.notification-container[_ngcontent-%COMP%]{margin-top:120px}.notification-list[_ngcontent-%COMP%]{padding:1.5rem}.notification-item[_ngcontent-%COMP%]{padding:1rem}.notification-title[_ngcontent-%COMP%]{font-size:24px}.notification-description[_ngcontent-%COMP%]{font-size:18px}.notification-time[_ngcontent-%COMP%]{font-size:16px}.btn-delete[_ngcontent-%COMP%]{padding:4px 10px;font-size:.8rem}.btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.no-notifications[_ngcontent-%COMP%]{font-size:16px}}@media (max-width:576px){.notification-container[_ngcontent-%COMP%]{margin-top:120px}.notification-list[_ngcontent-%COMP%]{padding:1rem}.notification-item[_ngcontent-%COMP%]{padding:.75rem}.notification-title[_ngcontent-%COMP%]{font-size:20px}.notification-description[_ngcontent-%COMP%]{font-size:16px}.notification-time[_ngcontent-%COMP%]{font-size:14px}.btn-delete[_ngcontent-%COMP%]{padding:3px 8px;font-size:.75rem}.btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.no-notifications[_ngcontent-%COMP%]{font-size:14px}}@media (max-width:400px){.notification-container[_ngcontent-%COMP%]{margin-top:120px}.notification-list[_ngcontent-%COMP%]{padding:.75rem}.notification-item[_ngcontent-%COMP%]{padding:.5rem}.notification-title[_ngcontent-%COMP%]{font-size:18px}.notification-description[_ngcontent-%COMP%]{font-size:14px}.notification-time[_ngcontent-%COMP%]{font-size:12px}.btn-delete[_ngcontent-%COMP%]{padding:2px 6px;font-size:.7rem}.btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.no-notifications[_ngcontent-%COMP%]{font-size:12px}}"]})}}return e})()},2318:(l,f,i)=>{i.d(f,{I:()=>p});var s=i(4412),r=i(6996),t=i(1626);let p=(()=>{class c{constructor(a){this._HttpClient=a,this.notificationsCount=new s.t(0),this.baseURL="https://sakaniapi1.runasp.net/api/Notifications"}getAllNotifications(){return this._HttpClient.get(this.baseURL,{withCredentials:!0})}deleteNotification(a){return this._HttpClient.delete(`${this.baseURL}/Delete/${a}`,{withCredentials:!0})}static{this.\u0275fac=function(g){return new(g||c)(r.KVO(t.Qq))}}static{this.\u0275prov=r.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()}}]);